/* /src/lib/styles/utilities.css - Tailwind v4 Native Utilities */

/* ===== TAILWIND V4 @utility DIRECTIVES ===== */

/* Layout utilities */
@utility container {
  width: 100%;
  max-width: var(--container-screens-2xl);
  margin-inline: auto;
  padding-inline: var(--container-padding);
}

/* Typography utilities */
@utility text-balance {
  text-wrap: balance;
}

@utility text-pretty {
  text-wrap: pretty;
}

/* Truncation utilities */
@utility truncate-lines {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

@utility truncate-2 {
  -webkit-line-clamp: 2;
}

@utility truncate-3 {
  -webkit-line-clamp: 3;
}

/* Component size utilities - buttons */
@utility btn-xs {
  height: calc(1.75rem); /* 28px */
  padding-inline: var(--spacing-2);
  font-size: var(--font-size-xs);
  gap: var(--spacing-1);
}

@utility btn-sm {
  height: calc(2.25rem); /* 36px */
  padding-inline: var(--spacing-2-5);
  font-size: var(--font-size-sm);
  gap: var(--spacing-1);
}

@utility btn-md {
  height: calc(2.5rem); /* 40px */
  padding-inline: var(--spacing-3);
  font-size: var(--font-size-sm);
  gap: var(--spacing-1-5);
}

@utility btn-lg {
  height: calc(2.75rem); /* 44px */
  padding-inline: var(--spacing-4);
  font-size: var(--font-size-base);
  gap: var(--spacing-2);
}

/* Input size utilities */
@utility input-sm {
  height: calc(2.25rem); /* 36px */
  padding-inline: var(--spacing-2);
  font-size: var(--font-size-sm);
}

@utility input-md {
  height: calc(2.5rem); /* 40px */
  padding-inline: var(--spacing-2-5);
  font-size: var(--font-size-sm);
}

@utility input-lg {
  height: calc(2.75rem); /* 44px */
  padding-inline: var(--spacing-3);
  font-size: var(--font-size-base);
}

/* Performance-optimized micro-interactions */
@utility hover-bright {
  transition: background-color var(--transition-duration-75) var(--transition-timing-function-out),
              border-color var(--transition-duration-75) var(--transition-timing-function-out);
  
  &:hover {
    filter: brightness(1.1);
  }
}

@utility active-scale {
  transition: transform var(--transition-duration-75);
  
  &:active {
    transform: scale(0.97);
  }
}

@utility instant-hover {
  transition-duration: var(--transition-duration-75) !important;
}

/* Advanced visual utilities */
@utility gradient-text {
  background: linear-gradient(135deg, var(--color-brand-500), var(--color-brand-700));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

@utility glass {
  background: rgb(255 255 255 / 0.7);
  backdrop-filter: blur(10px);
  border: 1px solid rgb(255 255 255 / 0.2);
}

@utility glass-dark {
  background: rgb(0 0 0 / 0.3);
  border: 1px solid rgb(255 255 255 / 0.1);
}

/* Loading skeleton with optimized animation */
@utility skeleton {
  background: linear-gradient(
    90deg,
    var(--color-gray-200) 0%,
    var(--color-gray-100) 50%,
    var(--color-gray-200) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

@keyframes skeleton-pulse {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Scrollbar utilities */
@utility scrollbar-thin {
  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
}

@utility scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
  
  &::-webkit-scrollbar {
    display: none;
  }
}

/* Accessibility - Touch target expansion */
@utility touch-target {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: max(100%, calc(2.75rem)); /* 44px min */
    height: max(100%, calc(2.75rem)); /* 44px min */
    transform: translate(-50%, -50%);
  }
}

/* Mobile-first responsive utilities */
@utility btn-compact-safe {
  @media (pointer: coarse) {
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      inset: -0.5rem; /* Expands tap area by 8px on all sides */
    }
  }
}